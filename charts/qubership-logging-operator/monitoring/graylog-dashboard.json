{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "limit": 100,
        "name": "Annotations & Alerts",
        "showIn": 0,
        "type": "dashboard"
      }
    ]
  },
  "description": "Dashboard for Graylog Metrics collected by Prometheus",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "gnetId": 4889,
  "graphTooltip": 0,
  "id": 669,
  "links": [
    {
      "icon": "external link",
      "tags": [
        "Elasticsearch"
      ],
      "type": "dashboards"
    },
    {
      "asDropdown": false,
      "icon": "external link",
      "includeVars": false,
      "keepTime": true,
      "tags": [
        "fluentd"
      ],
      "targetBlank": true,
      "title": "",
      "tooltip": "",
      "type": "dashboards",
      "url": ""
    }
  ],
  "panels": [
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 41,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "Graylog Overview",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "description": "Graylog version",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "text",
                "value": null
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 4,
        "x": 0,
        "y": 1
      },
      "id": 55,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 50
        },
        "textMode": "name",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "group (kube_statefulset_labels{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}) by (label_app_kubernetes_io_version)",
          "instant": true,
          "interval": "",
          "legendFormat": "__auto",
          "refId": "A"
        }
      ],
      "title": "Graylog Version",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "description": "Shows if Graylog service is ready",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "text": "DOWN"
                },
                "1": {
                  "text": "UP"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 0
              },
              {
                "color": "green",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 5,
        "x": 4,
        "y": 1
      },
      "id": 142,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 50
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "up{cluster=\"$cluster\", container=~\"graylog\"} == 1",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "title": "Graylog Service Status",
      "type": "stat"
    },
    {
      "datasource": {
        "uid": "${datasource}"
      },
      "description": "Shows if Elastic cluster is running. \nPossible values: Up, Degraded, Failed",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "text": "UP"
                },
                "6": {
                  "text": "DEGRADED"
                },
                "10": {
                  "text": "FAILED"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 5,
        "x": 9,
        "y": 1
      },
      "id": 44,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 50
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "exemplar": true,
          "expr": "max(elasticsearch_cluster_health_status_code{cluster=\"$cluster\", namespace=\"$elastic_namespace\"}) by (host)",
          "instant": true,
          "interval": "",
          "legendFormat": "{{ host }}",
          "refId": "A"
        }
      ],
      "title": "Elastic Cluster Status",
      "type": "stat"
    },
    {
      "datasource": {
        "uid": "${datasource}"
      },
      "description": "Show buffer usage. How much messages Graylog keep in input and output buffers.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "rgb(255, 255, 255)",
                "value": null
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 4,
        "x": 14,
        "y": 1
      },
      "id": 76,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {},
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "exemplar": true,
          "expr": "org_graylog2_buffers_input_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
          "interval": "",
          "legendFormat": "In",
          "refId": "A"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "exemplar": true,
          "expr": "org_graylog2_buffers_output_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
          "hide": false,
          "interval": "",
          "legendFormat": "Out",
          "refId": "B"
        }
      ],
      "title": "Buffers usage",
      "type": "stat"
    },
    {
      "datasource": {
        "uid": "${datasource}"
      },
      "description": "Show Graylog throughput. How much Graylog process messages from Fluentd to ElasticSearch.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "rgb(255, 255, 255)",
                "value": null
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 18,
        "y": 1
      },
      "id": 75,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {},
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "exemplar": true,
          "expr": "org_graylog2_throughput_input_1_sec_rate{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
          "interval": "",
          "legendFormat": "In",
          "refId": "A"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "exemplar": true,
          "expr": "org_graylog2_throughput_output_1_sec_rate{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
          "hide": false,
          "interval": "",
          "legendFormat": "Out",
          "refId": "B"
        }
      ],
      "title": "Throughput",
      "type": "stat"
    },
    {
      "datasource": {
        "uid": "${datasource}"
      },
      "description": "Show total errors messages (for all log levels)  which occurs in Graylog itself.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "orange",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 21,
        "y": 1
      },
      "id": 127,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {},
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "expr": "rate(org_apache_logging_log4j_core_Appender_all_total[5m])",
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "title": "Error rate, 5m",
      "type": "stat"
    },
    {
      "datasource": {
        "uid": "${datasource}"
      },
      "description": "Show Graylog journal utilization. Graylog use journal as temporally storage of received messages which have not yet been processed by ElastiSearch.\nHigh journal utilization shows that ElasticSearch cannot process the input stream fast enough.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 2,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "max": 1,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "#299c46",
                "value": null
              },
              {
                "color": "rgba(237, 129, 40, 0.89)",
                "value": 0.4
              },
              {
                "color": "#d44a3a",
                "value": 0.8
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 4,
        "x": 0,
        "y": 6
      },
      "id": 130,
      "maxDataPoints": 100,
      "options": {
        "minVizHeight": 200,
        "minVizWidth": 200,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto"
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "exemplar": true,
          "expr": "org_graylog2_journal_utilization_ratio{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
          "format": "time_series",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "Utilization",
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Journal utilization",
      "type": "gauge"
    },
    {
      "datasource": {
        "uid": "${datasource}"
      },
      "description": "Shows the count of up and down nodes",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 10,
        "x": 4,
        "y": 6
      },
      "id": 46,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "10.4.2",
      "targets": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "exemplar": true,
          "expr": "min(elasticsearch_cluster_health_number_of_nodes{cluster=\"$cluster\", namespace=\"$elastic_namespace\"}) by (host)",
          "instant": false,
          "interval": "",
          "legendFormat": "Up",
          "refId": "A"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "exemplar": true,
          "expr": "scalar(elasticsearch_cluster_health_total_number_of_nodes{cluster=\"$cluster\", namespace=\"$elastic_namespace\"}) - (min(elasticsearch_cluster_health_number_of_nodes{cluster=\"$cluster\", namespace=\"$elastic_namespace\"}) by (host))",
          "hide": false,
          "instant": false,
          "interval": "",
          "legendFormat": "Down",
          "refId": "B"
        }
      ],
      "title": "Elastic Nodes",
      "type": "timeseries"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 11
      },
      "id": 73,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows count of working fluentd nodes",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-red",
                    "value": null
                  },
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Down"
                },
                "properties": [
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 2,
            "x": 0,
            "y": 12
          },
          "id": 53,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "titleSize": 16,
              "valueSize": 90
            },
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.2.1",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "expr": "sum(up{container=~\".*fluentd\"} == 1) or vector(0)",
              "instant": true,
              "interval": "",
              "legendFormat": "Up",
              "refId": "A"
            }
          ],
          "title": "Up Fluentd",
          "type": "stat"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show a total count of output messages which were collected by fluentd pods, by each fluentd pod",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 11,
            "x": 2,
            "y": 12
          },
          "id": 48,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.2.1",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "sum(fluentd_output_status_write_count{cluster=\"$cluster\", namespace=\"$fluentd_namespace\"}) by (hostname)",
              "interval": "",
              "legendFormat": "{{hostname}}",
              "refId": "A"
            }
          ],
          "title": "Fluentd Output Status Write Count",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show a total count of input messages in fluentd pods, by each fluentd pod. If Fluentd only read log files and send messages this graph can show empty values",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 11,
            "x": 13,
            "y": 12
          },
          "id": 135,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.2.1",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "sum(fluentd_input_status_num_records_total{cluster=\"$cluster\", namespace=\"$fluentd_namespace\"}) by (hostname) or vector(0)",
              "interval": "",
              "legendFormat": "{{ hostname }}",
              "refId": "A"
            }
          ],
          "title": "Fluentd Input Status Records",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows count of currently not working fluentd nodes",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "#EAB839",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Down"
                },
                "properties": [
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 2,
            "x": 0,
            "y": 20
          },
          "id": 136,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "titleSize": 16,
              "valueSize": 90
            },
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.2.1",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "sum(up{container=~\".*fluentd\"} == 0) or vector(0)",
              "instant": true,
              "interval": "",
              "legendFormat": "Up",
              "refId": "A"
            }
          ],
          "title": "Down Fluentd",
          "type": "stat"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows the maximum buffer length in last 1 min\n\nNote: if the value is increasing,  Fluentd cannot flush the buffer to the destination. Thus you will lose the data once the buffer becomes full",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 11,
            "x": 2,
            "y": 20
          },
          "id": 60,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.2.1",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "expr": "max_over_time(fluentd_output_status_buffer_queue_length[1m])",
              "interval": "",
              "legendFormat": "{{hostname}}",
              "refId": "A"
            }
          ],
          "title": "Maximum Buffer Length",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows the maximum buffer bytes in last 1 min\n\nNote: if the value is increasing,  Fluentd cannot flush the buffer to the destination. Thus you will lose the data once the buffer becomes full",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 11,
            "x": 13,
            "y": 20
          },
          "id": 50,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.2.1",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "max_over_time(fluentd_output_status_buffer_total_bytes{cluster=\"$cluster\", namespace=\"$fluentd_namespace\"}[1m])",
              "interval": "",
              "legendFormat": "{{ hostname }}",
              "refId": "A"
            }
          ],
          "title": "Fluentd Maximum Buffer Bytes",
          "type": "timeseries"
        },
        {
          "aliasColors": {},
          "autoMigrateFrom": "graph",
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows the count of emit count per sec",
          "fieldConfig": {
            "defaults": {
              "unit": "ops"
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 28
          },
          "hiddenSeries": false,
          "id": 51,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.10",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "sum(rate(fluentd_output_status_emit_count{cluster=\"$cluster\", namespace=\"$fluentd_namespace\"}[5m])) by (hostname)",
              "interval": "",
              "legendFormat": "{{hostname}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Fluentd emit number per sec",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "timeseries",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:2427",
              "format": "ops",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:2428",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "Fluentd",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 12
      },
      "id": 71,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "The size of data stored in indices",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 13
          },
          "id": 65,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "sum(elasticsearch_clusterstats_indices_store_size_in_bytes) by (namespace, cluster_name)",
              "interval": "",
              "legendFormat": "{{ namespace }}: {{ cluster_name }}",
              "refId": "A"
            }
          ],
          "title": "Indices size",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows count of indices in the namespace",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 13
          },
          "id": 62,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "sum(elasticsearch_clusterstats_indices_count) by (namespace, cluster_name)",
              "interval": "",
              "legendFormat": "{{ namespace }}: {{ cluster_name }}",
              "refId": "A"
            }
          ],
          "title": "Count of indices",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows count of documents on node in the namespace",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 21
          },
          "id": 63,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "expr": "sum(elasticsearch_indices_docs_count) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}",
              "refId": "A"
            }
          ],
          "title": "Count of documents",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "ElasticSearch Indexes",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 13
      },
      "id": 13,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show Graylog throughput. How much Graylog process messages from Fluentd to ElasticSearch.\n`Messages append to disk` means how many messages append to journal.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Messages appended to disk"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#629e51",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Messages in"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#c15c17",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Messages out"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#cffaff",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 28
          },
          "id": 6,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.2",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_throughput_input_1_sec_rate{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "interval": "15s",
              "intervalFactor": 1,
              "legendFormat": "Messages in",
              "orderByTime": "ASC",
              "policy": "default",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_journal_append_1_sec_rate{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Messages appended to disk",
              "refId": "C"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_throughput_output_1_sec_rate{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "interval": "15s",
              "intervalFactor": 1,
              "legendFormat": "Messages out",
              "refId": "B"
            }
          ],
          "title": "Messages received",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "Messages",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 14
      },
      "id": 15,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show how many messages Graylog store in input buffer.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Input buffer size"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#1f78c1",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Input buffer size"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 36
          },
          "id": 9,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_buffers_input_size{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Input buffer size",
              "orderByTime": "ASC",
              "policy": "default",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_buffers_input_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Input buffer usage",
              "refId": "B"
            }
          ],
          "title": "Graylog Input Buffer",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show how many messages Graylog store in process buffer.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Process buffer size"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#511749",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Process buffer size"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 36
          },
          "id": 10,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_buffers_process_size{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Process buffer size",
              "orderByTime": "ASC",
              "policy": "default",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_buffers_process_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Process buffer usage",
              "refId": "B"
            }
          ],
          "title": "Graylog Process Buffer",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show how many messages Graylog store in output buffer.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Process buffer size"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#967302",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Process buffer usage"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#fce2de",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Output buffer size"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 36
          },
          "id": 11,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_buffers_output_size{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Output buffer size",
              "orderByTime": "ASC",
              "policy": "default",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_buffers_output_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Output buffer usage",
              "refId": "B"
            }
          ],
          "title": "Graylog Output Buffer",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "Buffers",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 15
      },
      "id": 138,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows the count of incoming messages of streams",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "messages/s",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "id": 67,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "sum({__name__=~\"org_graylog2_plugin_streams_Stream_.*_incomingMessages_1_sec_rate\", cluster=\"$cluster\", namespace=\"$graylog_namespace\"})",
              "interval": "",
              "legendFormat": "Incoming messages",
              "refId": "A"
            }
          ],
          "title": "Streams incoming messages rate, sum by inputs, msg/s",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows rate of processing output records",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "id": 69,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "rate(org_graylog2_outputs_ElasticSearchOutput_processTime_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[5m])",
              "interval": "",
              "legendFormat": "ElasticSearch Output",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "rate(org_graylog2_outputs_BlockingBatchedESOutput_processTime_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[5m])",
              "hide": false,
              "interval": "",
              "legendFormat": "Blocking Batched ElasticSearch Output",
              "refId": "B"
            }
          ],
          "title": "Elastic Search Output Rate",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows the count of incoming messages of streams",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "messages/s",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 24
          },
          "id": 139,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "sum(rate({__name__=~\"org_graylog2_plugin_streams_Stream_.*_incomingMessages_total\", cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[1m]))",
              "interval": "",
              "legendFormat": "Incoming messages",
              "refId": "A"
            }
          ],
          "title": "Streams incoming messages, sum by inputs, avg msg/s",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows summary for GELF parsing time by Graylog for all inputs.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 24
          },
          "id": 141,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "sum(rate({__name__=~\"org_graylog2_inputs_codecs_GelfCodec_.*_parseTime_count\", cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[1m]))",
              "interval": "",
              "legendFormat": "GELF parse time",
              "refId": "A"
            }
          ],
          "title": "GELF parse time, sum by input",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "Input and Output streams",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 16
      },
      "id": 27,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show Graylog journal utilization. Graylog use journal as temporally storage of received messages which have not yet been processed by ElastiSearch.\nHigh journal utilization shows that ElasticSearch cannot process the input stream fast enough.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 2,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "max": 1,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46"
                  },
                  {
                    "color": "rgba(237, 129, 40, 0.89)",
                    "value": 0.4
                  },
                  {
                    "color": "#d44a3a",
                    "value": 0.8
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 3,
            "x": 0,
            "y": 17
          },
          "id": 29,
          "maxDataPoints": 100,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "11.2.1",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_journal_utilization_ratio{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Utilization",
              "orderByTime": "ASC",
              "policy": "default",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Journal utilization",
          "type": "gauge"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show Graylog journal size and it limit.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Journal size"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#f9934e",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Journal usage"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#65c5db",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Limit"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 3,
            "y": 17
          },
          "id": 31,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_journal_size_limit{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Limit",
              "orderByTime": "ASC",
              "policy": "default",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_journal_size{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Usage",
              "refId": "B"
            }
          ],
          "title": "Graylog Journal Size",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show journal append and read sizes in bytes. In a normal situation append and read should be roughly the same.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Journal size"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#f9934e",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Journal usage"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#65c5db",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 13,
            "x": 11,
            "y": 17
          },
          "id": 124,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_journal_append_1_sec_rate{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Append",
              "orderByTime": "ASC",
              "policy": "default",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_journal_read_1_sec_rate{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Read",
              "refId": "B"
            }
          ],
          "title": "Journal Append and Read",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show how much uncommitted messages in journal and how much segments in journal",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Journal size"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#f9934e",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Journal usage"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#65c5db",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 24
          },
          "id": 125,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_journal_entries_uncommitted{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Uncommitted",
              "orderByTime": "ASC",
              "policy": "default",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "org_graylog2_journal_segments{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Segments",
              "refId": "B"
            }
          ],
          "title": "Journal Uncommitted, Segments",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show error rate in logs of Graylog process",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 16,
            "x": 8,
            "y": 24
          },
          "id": 129,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "expr": "rate(org_apache_logging_log4j_core_Appender_debug_total[5m])",
              "interval": "",
              "legendFormat": "Debug",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "expr": "rate(org_apache_logging_log4j_core_Appender_error_total[5m])",
              "hide": false,
              "interval": "",
              "legendFormat": "Error",
              "refId": "B"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "expr": "rate(org_apache_logging_log4j_core_Appender_fatal_total[5m])",
              "hide": false,
              "interval": "",
              "legendFormat": "Fatal",
              "refId": "C"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "expr": "rate(org_apache_logging_log4j_core_Appender_info_total[5m])",
              "hide": false,
              "interval": "",
              "legendFormat": "Info",
              "refId": "D"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "expr": "rate(org_apache_logging_log4j_core_Appender_trace_total[5m])",
              "hide": false,
              "interval": "",
              "legendFormat": "Trace",
              "refId": "E"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "expr": "rate(org_apache_logging_log4j_core_Appender_warn_total[5m])",
              "hide": false,
              "interval": "",
              "legendFormat": "Warning",
              "refId": "F"
            }
          ],
          "title": "Error rate",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "System",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 17
      },
      "id": 134,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows CPU usage per container in pod against resource requests and limits",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Millicores",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*limits.*/"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.stacking",
                    "value": {
                      "group": "A",
                      "mode": "none"
                    }
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*requests.*/"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#FF9830",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.stacking",
                    "value": {
                      "group": "A",
                      "mode": "none"
                    }
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*usage.*/"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#73BF69",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 24,
            "x": 0,
            "y": 32
          },
          "id": 132,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "sum(sum by (namespace, pod, container) (\rrate(container_cpu_usage_seconds_total{cluster=\"$cluster\", namespace=\"$graylog_namespace\", container!=\"POD\", container!=\"\", name!=\"\", image!=\"\", pod=~\".*graylog.*\"}[1m]))) by (pod,container) * 1000",
              "interval": "",
              "legendFormat": "usage: {{ container }}",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "sum(kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\", exported_namespace=\"$graylog_namespace\", exported_pod=~\".*graylog.*\"}) by (exported_pod,container) * 1000",
              "hide": false,
              "interval": "",
              "legendFormat": "requests: {{ container }}",
              "refId": "B"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "sum(kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\",exported_namespace=\"$graylog_namespace\", exported_pod=~\".*graylog.*\"}) by (exported_pod,container) * 1000",
              "hide": false,
              "interval": "",
              "legendFormat": "limits: {{ container }}",
              "refId": "C"
            }
          ],
          "title": "CPU Usage",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "CPU Usage",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 18
      },
      "id": 78,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows the heap JVM memory  used volume",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Limit"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 0,
            "y": 19
          },
          "id": 80,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_heap_init{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": true,
              "interval": "",
              "legendFormat": "Init",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_heap_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": true,
              "interval": "",
              "legendFormat": "Usage",
              "refId": "B"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_heap_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Used",
              "refId": "C"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_heap_max{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Limit",
              "refId": "D"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_heap_committed{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Committed",
              "refId": "E"
            }
          ],
          "title": "JVM Heap",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows the non-heap JVM memory  used volume",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Limit"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 8,
            "y": 19
          },
          "id": 81,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_non_heap_init{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": true,
              "interval": "",
              "legendFormat": "Init",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_non_heap_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": true,
              "interval": "",
              "legendFormat": "Usage",
              "refId": "B"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_non_heap_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Used",
              "refId": "C"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_non_heap_max{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Limit",
              "refId": "D"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_non_heap_committed{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Committed",
              "refId": "E"
            }
          ],
          "title": "JVM Non-Heap",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows the amount of memory \n - used\n - committed to use\n -  max that can be used",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Limit"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 16,
            "y": 19
          },
          "id": 82,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_total_init{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": true,
              "interval": "",
              "legendFormat": "Init",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_total_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Used",
              "refId": "C"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_total_max{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Limit",
              "refId": "D"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_total_committed{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Committed",
              "refId": "E"
            }
          ],
          "title": "JVM Total",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "JVM",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 19
      },
      "id": 90,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show heap memory usage for Survivor Space space",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "max"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 20
          },
          "id": 94,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Par_Survivor_Space_committed{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "committed",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Par_Survivor_Space_max{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "max",
              "refId": "B"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Par_Survivor_Space_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": true,
              "interval": "",
              "legendFormat": "usage",
              "refId": "C"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Par_Survivor_Space_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "used",
              "refId": "D"
            }
          ],
          "title": "Survivor Space",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show heap memory usage for Eden Space space",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "max"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 20
          },
          "id": 93,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Par_Eden_Space_committed{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "committed",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Par_Eden_Space_max{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "max",
              "refId": "B"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Par_Eden_Space_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": true,
              "interval": "",
              "legendFormat": "usage",
              "refId": "C"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Par_Eden_Space_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "used",
              "refId": "D"
            }
          ],
          "title": "Eden Space",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show heap memory usage for Old Gen space",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "max"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 20
          },
          "id": 92,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_CMS_Old_Gen_committed{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "committed",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_CMS_Old_Gen_max{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "max",
              "refId": "B"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_CMS_Old_Gen_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": true,
              "interval": "",
              "legendFormat": "usage",
              "refId": "C"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_CMS_Old_Gen_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "used",
              "refId": "D"
            }
          ],
          "title": "Old Gen",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "JVM Memory Pools (Heap)",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 20
      },
      "id": 96,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show non-heap memory usage for Code Cache space",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "max"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 0,
            "y": 21
          },
          "id": 99,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Code_Cache_committed{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "committed",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Code_Cache_max{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "max",
              "refId": "B"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Code_Cache_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": true,
              "interval": "",
              "legendFormat": "usage",
              "refId": "C"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Code_Cache_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "used",
              "refId": "D"
            }
          ],
          "title": "Code Cache",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show non-heap memory usage for Compressed Class space",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "max"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 8,
            "y": 21
          },
          "id": 100,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Compressed_Class_Space_committed{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "committed",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Compressed_Class_Space_max{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "max",
              "refId": "B"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Compressed_Class_Space_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": true,
              "interval": "",
              "legendFormat": "usage",
              "refId": "C"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Compressed_Class_Space_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "used",
              "refId": "D"
            }
          ],
          "title": "Compressed Class Space",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show non-heap memory usage for Metaspace",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "max"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 16,
            "y": 21
          },
          "id": 98,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Metaspace_committed{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "committed",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Metaspace_max{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "max",
              "refId": "B"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Metaspace_usage{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": true,
              "interval": "",
              "legendFormat": "usage",
              "refId": "C"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Metaspace_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "used",
              "refId": "D"
            }
          ],
          "title": "Metaspace",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "JVM Memory Pools (Non-Heap)",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 21
      },
      "id": 104,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show threads by them states",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 22
          },
          "id": 121,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_threads_blocked_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "Blocked",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_threads_deadlock_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Deadlock",
              "refId": "C"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_threads_new_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "New",
              "refId": "D"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_threads_runnable_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Runnable",
              "refId": "E"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_threads_terminated_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Terminated",
              "refId": "F"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_threads_timed_waiting_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Timed waiting",
              "refId": "G"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_threads_waiting_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Waiting",
              "refId": "H"
            }
          ],
          "title": "Threads states",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show total threads count",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/Total/"
                },
                "properties": [
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 22
          },
          "id": 122,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_threads_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "Total",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_threads_daemon_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Daemon",
              "refId": "B"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_threads_runnable_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Runnable",
              "refId": "E"
            }
          ],
          "title": "Threads used",
          "type": "timeseries"
        },
        {
          "aliasColors": {},
          "autoMigrateFrom": "graph",
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show how much threads created, show as rate in second",
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 30
          },
          "hiddenSeries": false,
          "id": 123,
          "interval": "1m",
          "legend": {
            "alignAsTable": false,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.10",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "round(rate(jvm_threads_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[$__rate_interval])*60)",
              "interval": "",
              "legendFormat": "started",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "New threads, rpm",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "timeseries",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:902",
              "format": "short",
              "logBase": 1,
              "min": "0",
              "show": true
            },
            {
              "$$hashKey": "object:903",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "autoMigrateFrom": "graph",
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show total JVM buffers counts for direct and mapped buffers",
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 30
          },
          "hiddenSeries": false,
          "id": 117,
          "legend": {
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.10",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_buffers_mapped_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "mapped",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_buffers_direct_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "direct",
              "refId": "B"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Buffers count",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "timeseries",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:935",
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:936",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "autoMigrateFrom": "graph",
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show JVM buffers usage in bytes",
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 38
          },
          "hiddenSeries": false,
          "id": 102,
          "legend": {
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.10",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_buffers_mapped_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "mapped",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_buffers_direct_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "direct",
              "refId": "B"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Used buffers",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "timeseries",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:968",
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:969",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "autoMigrateFrom": "graph",
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show JVM direct buffer usage and it capacity in bytes",
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 12,
            "y": 38
          },
          "hiddenSeries": false,
          "id": 118,
          "legend": {
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.10",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_buffers_direct_capacity{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "capacity",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_buffers_direct_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "used",
              "refId": "B"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Direct buffers",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "timeseries",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:1001",
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:1002",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "autoMigrateFrom": "graph",
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show JVM mapped buffer usage and it capacity in bytes",
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 18,
            "y": 38
          },
          "hiddenSeries": false,
          "id": 119,
          "legend": {
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.10",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_buffers_mapped_capacity{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "capacity",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_buffers_mapped_used{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "used",
              "refId": "B"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Mapped buffers",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "timeseries",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:1065",
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:1066",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "JVM Misc",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 22
      },
      "id": 106,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show how much operations execute GC to collect garbage in second for selected time period and interval minimum 1m",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 23
          },
          "id": 108,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "rate(jvm_gc_ConcurrentMarkSweep_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[$__rate_interval])",
              "interval": "",
              "legendFormat": "ConcurrentMarkSweep",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "rate(jvm_gc_ParNew_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[$__rate_interval])",
              "hide": false,
              "interval": "",
              "legendFormat": "ParNew",
              "refId": "B"
            }
          ],
          "title": "Collections",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show JVM pause duration during GC for each collection",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 23
          },
          "id": 109,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "rate(jvm_gc_ConcurrentMarkSweep_time{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[$__rate_interval]) / rate(jvm_gc_ConcurrentMarkSweep_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[$__rate_interval])",
              "interval": "",
              "legendFormat": "avg ConcurrentMarkSweep",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "rate(jvm_gc_ParNew_time{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[$__rate_interval]) / rate(jvm_gc_ParNew_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[$__rate_interval])",
              "hide": false,
              "interval": "",
              "legendFormat": "avg ParNew",
              "refId": "B"
            }
          ],
          "title": "Pause durations, avg per collection",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show total JVM pause duration rate during GC for 1m interval",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 23
          },
          "id": 110,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "increase(jvm_gc_ConcurrentMarkSweep_time{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[1m])",
              "interval": "",
              "legendFormat": "total ConcurrentMarkSweep",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "increase(jvm_gc_ParNew_time{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[1m])",
              "hide": false,
              "interval": "",
              "legendFormat": "total ParNew",
              "refId": "B"
            }
          ],
          "title": "Pause Durations, total per minute",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "Garbage Collection (pause times and collection statistics)",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 23
      },
      "id": 112,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Total GC events counted from process start",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 5,
            "x": 0,
            "y": 24
          },
          "id": 116,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {},
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.2.1",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_gc_ParNew_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "ParNew",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_gc_ConcurrentMarkSweep_count{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "ConcurrentMarkSweep",
              "refId": "B"
            }
          ],
          "title": "Total GC Counts from start",
          "type": "stat"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Show memory pool (heap) size in bytes after last GC. Graph show in stack mode.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 19,
            "x": 5,
            "y": 24
          },
          "id": 114,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_CMS_Old_Gen_used_after_gc{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "Old Gen",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Par_Survivor_Space_used_after_gc{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Survivor Space",
              "refId": "B"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_memory_pools_Par_Eden_Space_used_after_gc{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Eden Space",
              "refId": "C"
            }
          ],
          "title": "Memory Pool After GC (Heap)",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "Garbage Collection (Last GC)",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "PC3E95692D54ABCC0"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 24
      },
      "id": 85,
      "panels": [
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows count of classes loaded by class loader",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 25
          },
          "id": 87,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_cl_loaded{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "interval": "",
              "legendFormat": "Classes loaded",
              "refId": "A"
            },
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "jvm_cl_unloaded{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}",
              "hide": false,
              "interval": "",
              "legendFormat": "Classes unloaded",
              "refId": "B"
            }
          ],
          "title": "Classes loaded / unloaded",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "${datasource}"
          },
          "description": "Shows delta of loaded classes count ",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 25
          },
          "id": 88,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "7.5.10",
          "targets": [
            {
              "datasource": {
                "uid": "${datasource}"
              },
              "exemplar": true,
              "expr": "rate(jvm_cl_loaded{cluster=\"$cluster\", namespace=\"$graylog_namespace\"}[2m])",
              "interval": "",
              "legendFormat": "delta-2m",
              "refId": "A"
            }
          ],
          "title": "Class delta",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "refId": "A"
        }
      ],
      "title": "Classloading",
      "type": "row"
    }
  ],
  "refresh": "30s",
  "schemaVersion": 39,
  "tags": [
    "k8s",
    "graylog"
  ],
  "templating": {
    "list": [
      {
        "current": {
          "selected": false,
          "text": "default",
          "value": "default"
        },
        "hide": 0,
        "includeAll": false,
        "label": "Datasource",
        "multi": false,
        "name": "datasource",
        "options": [],
        "query": "prometheus",
        "queryValue": "",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "current": {
          "selected": false,
          "text": "loki",
          "value": "loki"
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(up, cluster)",
        "hide": 0,
        "includeAll": false,
        "multi": false,
        "name": "cluster",
        "options": [],
        "query": {
          "query": "label_values(up, cluster)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "current": {
          "isNone": true,
          "selected": false,
          "text": "None",
          "value": ""
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(org_graylog2_buffers_input_size{cluster=\"$cluster\"}, namespace)",
        "hide": 0,
        "includeAll": false,
        "label": "Graylog namespace",
        "multi": false,
        "name": "graylog_namespace",
        "options": [],
        "query": {
          "query": "label_values(org_graylog2_buffers_input_size{cluster=\"$cluster\"}, namespace)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "current": {
          "isNone": true,
          "selected": false,
          "text": "None",
          "value": ""
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(fluentd_output_status_write_count{cluster=\"$cluster\"}, namespace)",
        "hide": 0,
        "includeAll": false,
        "label": "Fluentd namespace",
        "multi": false,
        "name": "fluentd_namespace",
        "options": [],
        "query": {
          "query": "label_values(fluentd_output_status_write_count{cluster=\"$cluster\"}, namespace)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "current": {
          "isNone": true,
          "selected": false,
          "text": "None",
          "value": ""
        },
        "datasource": {
          "type": "prometheus",
          "uid": "PC3E95692D54ABCC0"
        },
        "definition": "label_values(elasticsearch_cluster_health_status_code{cluster=\"$cluster\"}, namespace)",
        "hide": 0,
        "includeAll": false,
        "label": "Elastic Namespace",
        "multi": false,
        "name": "elastic_namespace",
        "options": [],
        "query": {
          "query": "label_values(elasticsearch_cluster_health_status_code{cluster=\"$cluster\"}, namespace)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      }
    ]
  },
  "time": {
    "from": "now-30m",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "Graylog / Server metrics (Kubernetes)",
  "uid": "",
  "version": 1,
  "weekStart": ""
}